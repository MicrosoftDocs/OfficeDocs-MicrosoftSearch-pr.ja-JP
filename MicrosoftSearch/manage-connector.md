---
title: Microsoft Search 用の Microsoft Graph コネクタを管理する
ms.author: monaray
author: monaray97
manager: mnirkhe
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Microsoft Search 用の Microsoft Graph コネクタを管理します。
ms.openlocfilehash: bf5a382ae0bd8308922599f0dfa9e087aad50c24
ms.sourcegitcommit: b1ca58219fb16d5aff277f357dfa11ce6b0d42ca
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/16/2020
ms.locfileid: "49695687"
---
<!-- markdownlint-disable no-inline-html -->

# <a name="manage-your-connections-for-microsoft-search"></a>Microsoft Search の接続を管理する

コネクタにアクセスして管理するには、テナントの検索管理者として指定する必要があります。 テナント管理者に問い合わせて、検索管理者ロールのプロビジョニングを行います。

## <a name="get-started"></a>作業の開始

Microsoft 365 [管理センターの](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/Connectors) [ [コネクタ] タブに移動します](https://admin.microsoft.com)。

コネクタの種類ごとに [、Microsoft 365 管理](https://admin.microsoft.com) センターは次の表に示す操作をサポートします。

操作 | Microsoft が構築したコネクタ | パートナーまたはカスタムのコネクタ
--- | --- | ---
接続を追加する | :heavy_check_mark: [(「Microsoft が構築したコネクタを構成する」を参照)](configure-connector.md) | :x: (パートナーまたはカスタムビルドのコネクタ管理者 UX を参照)
接続を削除する | :heavy_check_mark: | :heavy_check_mark:
発行済み接続を編集する | :heavy_check_mark: 名前<br></br> :heavy_check_mark: 説明<br></br> :heavy_check_mark: 外部データ ソースの認証資格情報<br></br> :heavy_check_mark: オンプレミス データ ソースのゲートウェイ資格情報<br></br> :heavy_check_mark: 更新スケジュール<br></br> | :heavy_check_mark: 名前<br></br> :heavy_check_mark: 説明
下書き接続を編集する | :heavy_check_mark: | :x:

## <a name="monitor-your-connection-status"></a>接続状態を監視する

接続を作成すると、Microsoft Search ページの [コネクタ]タブに処理されたアイテムの数 **が表示** されます。 最初のフル クロールが正常に完了すると、定期的な増分クロールの進行状況が表示されます。 このページには、コネクタの毎日の操作に関する情報と、ログとエラー履歴の概要が表示されます。

各接続に対して、[状態] 列に **次の 4** つの状態が表示されます。

* **同期中**。 コネクタは、ソースからのデータをクロールして、既存のアイテムのインデックスを作成し、更新を行います。

* **有効**: 接続が有効で、アクティブなクロールが実行されません。 **前回の同期時刻** は、前回成功したクロールがいつ行ったかを示します。 接続は最後の同期時刻と同じ最新の値です。

* **一時停止しました**。 クロールは、一時停止オプションを使用して管理者によって一時停止されます。 次のクロールは、手動で再開された場合にのみ実行されます。 ただし、この接続からのデータは引き続き検索可能です。

* **失敗**。 接続に重大な障害が発生しました。 このエラーには手動による介入が必要です。 管理者は、表示されたエラー メッセージに基づいて適切なアクションを実行する必要があります。 エラーが発生するまでインデックスが作成されたデータは検索可能です。

### <a name="view-your-last-crawl-info"></a>最後のクロール情報を表示する

最初の増分クロールまたはフル クロールが正常に完了すると、最後のクロール データ値が詳細ウィンドウの最後のクロール ヘッダーの下に表示されます。 前回実行されたクロールがない場合は、最後のクロール ヘッダーの下に情報は表示されません。 最後のクロールに関するこの情報は、クロールの実行方法を把握し、必要な場合は必要な手順を実行するのに役立ちます。

接続ごとに次の最後のクロール値を使用できます。

値 | 説明
--- | ---
完了: | 前回のクロールが完了した日時
型 | 増分クロールまたはフル クロール
期間 | 前回のクロールの完了にかかる時間
成功 | 前回のクロールで正常に取り込まれたアイテムの数
エラー | 前回のクロールでエラーが発生したアイテムの数

### <a name="monitor-errors"></a>エラーを監視する

[コネクタ **] タブの Active Connector** **ごとに、[エラー** ] タブに既存のクロール エラー **が表示** されます。タブには、エラー コード、各数、およびエラー ログのダウンロード オプションが一覧表示されます。 次の図の例を参照してください。 エラー コード **を選択して** 、エラーの詳細を表示します。

![コネクタが選択されたコネクタの一覧と、このコネクタの 3 つのエラーを示す詳細ウィンドウ。](media/errormonitoring1.png)

エラーの特定の詳細を表示するには、エラー コードを選択します。 エラーの詳細とリンクを含む画面が表示されます。 最新のエラーが上部に表示されます。 次の表の例を参照してください。

![コネクタが選択されたコネクタの一覧と、コネクタのエラーの一覧を表示する詳細ウィンドウ。](media/errormonitoring2.png)

次に、接続に対して発生する可能性があるさまざまなエラーの一覧を示します。 これらのソリューションが動作しない場合は、サポートに問い合わせ、フィードバックをお送 [りください](connectors-feedback.md)。

エラー コード | エラー メッセージ | ソリューション
--- | --- | ---
1000 | データ ソースを使用できません。 インターネット接続を確認するか、コネクタがデータ ソースに引き続きアクセス可能な場所を確認します。 | このエラーは、ネットワークの問題が原因でデータ ソースに到達できない場合、またはデータ ソース自体が削除、移動、または名前変更された場合に発生します。 指定されたデータ ソースの詳細がまだ有効な場合に確認します。
1001 | データ ソースがコネクタを調整しているので、データを更新できない。 | データ ソースのチェックを解除するには、そのスケール制限を増やしたり、トラフィックの負荷が少ない日まで待機したりできるのを確認します。
1002 | データ ソースで認証できない。 このデータ ソースに関連付けられている資格情報が正しいか確認します。 | [ **編集] を** クリックして、認証資格情報を更新します。
1003 | コネクタに関連付けられているアカウントには、アイテムにアクセスするためのアクセス許可が付与されません。 |  適切なアカウントが、インデックスを作成するアイテムにアクセスできる必要があります。
1004 | オンプレミスのデータ ゲートウェイに到達できません。 ゲートウェイ サービスが実行中であり、ゲートウェイの詳細が接続構成で更新されている必要があります。 | ゲートウェイを使用してコンピューターを確認し、Power BI Gateway アプリケーションを開き、ゲートウェイが実行されている必要があります。 ゲートウェイが Microsoft Search と同じ管理者アカウントを使用しているのを確認し、すべてのゲートウェイの詳細が接続構成で更新されます。
1005 | このデータ ソースに関連付けられている資格情報の有効期限が切れています。 資格情報を更新し、接続を更新します。 | [ **編集] を** クリックして、認証資格情報を更新します。
1006 | ゲートウェイのバージョンが最新ではなくなったので、このコネクタはサポートされていません。 ゲートウェイを更新する必要があります。 | ゲートウェイを [含むコンピューターに最新バージョン](https://docs.microsoft.com/data-integration/gateway/service-gateway-install) の Power BI ゲートウェイをダウンロードしてインストールするには、オンプレミス のデータ ゲートウェイのインストールにアクセスしてください。
1007 | 有効な Power BI ライセンスが検出されません。 このクロールを実行するには、有効な Power BI ライセンスが必要です。 | このクロールを実行するには、有効な Power BI ライセンスが必要です。 組織に有効なライセンスが設定されていないことを確認します。 その場合は、もう一度お試しください。 ライセンスを取得しない場合は、もう一度お試しください。
1008 | テナントのクォータ使用率の合計が上限に達しました。 接続を削除してクォータの一部を解放するか、取り込みフィルターを調整してデータを減らしてみてください。 | 接続を削除してクォータの一部を解放するか、取り込みフィルターを調整してデータを減らしてみてください。 それでも問題が解決しない場合は、Microsoft サポートにお問い合わせください。
2001 | キューに大量の更新が含まれていますが、インデックス処理が調整されます。 キューによっては、更新が完了するには少し時間がかかる場合があります。 | キューがクリアされるまで待ちます。
2002 | サポートされていないアイテムの書式設定が原因でインデックス作成に失敗しました。 | 詳細については、コネクタ固有のドキュメントを参照してください。
2003 | サポートされていないアイテムのコンテンツが原因でインデックス作成に失敗しました。 | 詳細については、コネクタ固有のドキュメントを参照してください。
2010 | Microsoft によって更新されたため、この接続は無効になります。 Please delete the connection and create a new one. | Please delete the connection and create a new one.
5000 | 問題が起きました。 それでも問題が続く場合は、サポートにお問い合わせください。 |

## <a name="monitor-your-index-quota-utilization"></a>インデックス クォータの使用率を監視する

使用可能なインデックス クォータと使用量は、コネクタのランディング ページに表示されます。

![インデックス クォータ使用率バー](media/quota_utilization.png)

>[!NOTE]
>プレビュー期間中に、Graph コネクタを試しているすべての組織に、すべての接続で最大 200 万アイテムの無料の固定クォータが提供されました。 Graph コネクタが一般公開される中、プレビューで Graph コネクタを使用している組織では、2021 年 2 月 1 日に無料クォータの有効期限が切れます。
>「プレビュー」とラベル付けされた[](connectors-preview.md)Microsoft が作成した Graph コネクタは、組織の課金インデックス クォータの合計には含まれません。 ただし、組織で構成できる接続の最大数は 10 件、接続間でインデックスを作成できるアイテムの最大数は 700 万アイテムにカウントされます。各接続は 700,000 アイテムに制限されています。 

クォータ使用率バーは、組織によるクォータの消費に基づいてさまざまな状態を示します。

State | クォータの使用
--- | ---
標準 | 1-69%
高 | 70-89%
重大 | 90%-99%
Full | 100%

インデックスが作成されたアイテムの数も、接続ごとに表示されます。 各接続によってインデックスが作成されたアイテムの数は、組織で使用可能なクォータの合計に貢献します。

組織のインデックス クォータを超えると、すべてのアクティブな接続が影響を受け、それらの接続は制限を超 **えた状態で動作** します。 この状態では、アクティブな接続  

* 新しいアイテムを追加できない。

* 既存のアイテムを更新または削除できます。

この問題を解決するには、次の操作を行います。

* ライセンス要件と価格で組織のインデックス クォータを [購入する方法について説明します](licensing.md)。

* 取り込まれたコンテンツが多すぎる接続を特定し、クォータの容量を得るインデックスを作成する項目が少なく更新します。 接続を更新するには、新しい取り込みフィルターを使用して削除して新しい接続を作成する必要があります。このフィルターを使用すると、アイテム数が少なめになります。

* 1 つ以上の接続を完全に削除する

## <a name="limitations"></a>制限事項

* Microsoft **が作成** したコネクタを発行すると、接続が作成されるのに数分かかる場合があります。 その間、接続の状態は保留中として表示されます。

* [Microsoft 365 管理](https://admin.microsoft.com)センターでは、接続の公開後 **の検索スキーマ** の編集はサポートされていません。 検索スキーマを編集するには、接続を削除してから新しい接続を作成します。

* 取り込みスループットは、1 秒あたり約 4 アイテムで調整されます。

* スキーマの更新はサポートされていません。 接続セットアップを作成した後、スキーマを更新する方法はありません。 接続を削除して作成し、もう一度作成する必要があります。

* 接続の制限があります。 各テナントは、最大 10 の接続を作成できます。

* 接続の編集サポートは利用できません。 接続が作成されると、その接続を編集または変更することはできません。 詳細を変更する必要がある場合は、接続を削除して再作成する必要があります。
